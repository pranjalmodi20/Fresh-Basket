{"ast":null,"code":"// src/cartApi.js\nconst CART_API = 'http://localhost:5001/api/cart';\nexport async function setCartQuantity(productId, quantity) {\n  const token = localStorage.getItem('token');\n  const res = await fetch(CART_API, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: token ? `Bearer ${token}` : ''\n    },\n    body: JSON.stringify({\n      productId,\n      quantity\n    })\n  });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    console.error('setCartQuantity failed:', res.status, text);\n    throw new Error('Failed to update cart');\n  }\n\n  // expected: { productId, quantity }\n  return res.json();\n}","map":{"version":3,"names":["CART_API","setCartQuantity","productId","quantity","token","localStorage","getItem","res","fetch","method","headers","Authorization","body","JSON","stringify","ok","text","catch","console","error","status","Error","json"],"sources":["C:/Users/ADMIN/Downloads/capstone/capstone/frontend/src/cartApi.js"],"sourcesContent":["// src/cartApi.js\r\nconst CART_API = 'http://localhost:5001/api/cart';\r\n\r\nexport async function setCartQuantity(productId, quantity) {\r\n  const token = localStorage.getItem('token');\r\n\r\n  const res = await fetch(CART_API, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n    body: JSON.stringify({ productId, quantity }),\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const text = await res.text().catch(() => '');\r\n    console.error('setCartQuantity failed:', res.status, text);\r\n    throw new Error('Failed to update cart');\r\n  }\r\n\r\n  // expected: { productId, quantity }\r\n  return res.json();\r\n}\r\n"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAG,gCAAgC;AAEjD,OAAO,eAAeC,eAAeA,CAACC,SAAS,EAAEC,QAAQ,EAAE;EACzD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACR,QAAQ,EAAE;IAChCS,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAEP,KAAK,GAAG,UAAUA,KAAK,EAAE,GAAG;IAC7C,CAAC;IACDQ,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEZ,SAAS;MAAEC;IAAS,CAAC;EAC9C,CAAC,CAAC;EAEF,IAAI,CAACI,GAAG,CAACQ,EAAE,EAAE;IACX,MAAMC,IAAI,GAAG,MAAMT,GAAG,CAACS,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,EAAE,CAAC;IAC7CC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEZ,GAAG,CAACa,MAAM,EAAEJ,IAAI,CAAC;IAC1D,MAAM,IAAIK,KAAK,CAAC,uBAAuB,CAAC;EAC1C;;EAEA;EACA,OAAOd,GAAG,CAACe,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}